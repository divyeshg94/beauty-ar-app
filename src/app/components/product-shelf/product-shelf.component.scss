.product-shelf-container {
  @apply absolute bottom-0 left-0 right-0 bg-gray-900 bg-opacity-95 backdrop-blur-lg pb-4 transition-all duration-300;
  /* Add safe area padding for devices with notches */
  padding-bottom: max(1rem, env(safe-area-inset-bottom));
  
  &.collapsed {
    @apply pb-2;
    
    .product-carousel,
    .category-tabs {
      @apply hidden;
    }
  }
}

.collapse-toggle {
  @apply absolute top-2 right-4 z-50 bg-primary-500 hover:bg-primary-600 text-white rounded-full p-2;
  @apply transition-all duration-200 w-10 h-10 flex items-center justify-center shadow-lg;
  
  &:active {
    @apply scale-95;
  }
  
  .toggle-icon {
    @apply w-5 h-5 transition-transform duration-300;
    
    &.rotated {
      transform: rotate(180deg);
    }
  }
}

.collapsed-label {
  @apply px-4 py-3 text-gray-400;
}

.category-tabs {
  @apply flex gap-2 px-4 py-2 overflow-x-auto;
  scrollbar-width: none;
  
  &::-webkit-scrollbar {
    display: none;
  }
}

.category-tab {
  @apply px-4 py-2 text-sm font-medium text-gray-400 whitespace-nowrap rounded-full transition-all duration-200;
  
  &:hover {
    @apply text-white bg-gray-800;
  }
  
  &.active {
    @apply text-white bg-primary-500;
  }
}

.product-carousel {
  @apply flex gap-3 px-4 py-3 overflow-x-auto;
  scrollbar-width: none;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  
  &::-webkit-scrollbar {
    display: none;
  }
}

.product-card {
  @apply flex-shrink-0 w-24 cursor-pointer transition-all duration-200;
  
  &:hover {
    transform: translateY(-4px);
  }
  
  &:active {
    transform: scale(0.95);
  }
  
  &.applied {
    animation: productApplied 0.3s ease-out;
  }
}

@keyframes productApplied {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.product-image {
  @apply relative w-24 h-24 rounded-lg overflow-hidden mb-2 shadow-lg;
}

.color-swatch {
  @apply w-full h-full;
}

.applied-checkmark {
  @apply absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 text-green-400;
  animation: fadeIn 0.2s ease-out;
}

.product-info {
  @apply text-center;
}

.product-name {
  @apply text-xs font-semibold text-white truncate;
}

.product-brand {
  @apply text-xs text-gray-400 truncate;
}

.empty-state {
  @apply flex items-center justify-center w-full py-8 text-gray-500;
}
